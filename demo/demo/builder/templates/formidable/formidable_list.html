{% extends "formidable/formidable_base.html" %}

{% block content %}
<div class="title">
  <h1>May the Form be with you!</h1>
</div>

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<div>
  <table>
    <thead>
      <tr>
        <th>Forms \ Roles</th>
        {% for role in roles %}
          <th>{{ role.label }}</th>
        {% endfor %}
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for form in object_list %}
        <tr>
          <th>{{ form.label }}</th>
          {% for role in roles %}
            <td><a href="{% url 'builder:formidable-detail' form.id role.id %}">View</a></td>
          {% endfor %}
          <td><a href="{% url 'builder:formidable-edit' form.id %}">Edit</a></td>
        </tr>
        {% empty %}
          <tr>
            <td colspan="{{ roles|length|add:1 }}">No forms yet.</td>
          </tr>
      {% endfor %}
    </tbody>
  </table>
  <ul>
  </ul>
</div>
{% endblock %}
